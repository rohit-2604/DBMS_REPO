CREATE TABLE PUBLISHER(
    NAME VARCHAR2(20)PRIMARY KEY NOT NULL,
    PHONE NUMBER(38),
    ADDRESS VARCHAR2(20) 
);

CREATE TABLE BOOK(
    BOOK_ID NUMBER(38)NOT NULL PRIMARY KEY,
    TITLE VARCHAR2(20),
    PUB_YEAR VARCHAR2(20),
    PUBLISHER_NAME VARCHAR2(20),
    FOREIGN KEY(PUBLISHER_NAME) REFERENCES PUBLISHER(NAME)
);
CREATE TABLE BOOK_AUTHORS(
    AUTHOR_NAME VARCHAR2(20)NOT NULL,
    BOOK_ID NUMBER(38) NOT NULL,
    PRIMARY KEY(AUTHOR_NAME,BOOK_ID),
    FOREIGN KEY(BOOK_ID) REFERENCES BOOK (BOOK_ID)    
);
CREATE TABLE LIBRARY_BRANCH(
    BRANCH_ID NUMBER(38) NOT NULL PRIMARY KEY,
    BRANCH_NAME VARCHAR2(50),
    ADDRESS VARCHAR2(50)
);
CREATE TABLE BOOK_COPIES(
    NO_OF_COPIES NUMBER(38),
    BOOK_ID NUMBER(38)NOT NULL,
    BRANCH_ID NUMBER(38)NOT NULL,
    PRIMARY KEY(BOOK_ID,BRANCH_ID),
    FOREIGN KEY(BOOK_ID) REFERENCES BOOK (BOOK_ID),
    FOREIGN KEY (BRANCH_ID) REFERENCES LIBRARY_BRANCH(BRANCH_ID)
);
CREATE TABLE CARD(
    CARD_NO NUMBER(38) NOT NULL PRIMARY KEY
);
CREATE TABLE BOOK_LENDING(
    DATE_OUT DATE,
    DUE_DATE DATE,
    BOOK_ID NUMBER(38),
    BRANCH_ID NUMBER(38),
    CARD_NO NUMBER(38),
    PRIMARY KEY (BOOK_ID,BRANCH_ID,CARD_NO),
    FOREIGN KEY(BOOK_ID) REFERENCES BOOK (BOOK_ID),
    FOREIGN KEY (BRANCH_ID) REFERENCES LIBRARY_BRANCH(BRANCH_ID),
    FOREIGN KEY (CARD_NO) REFERENCES CARD(CARD_NO)
);
-- Insert data into the PUBLISHER table
INSERT INTO PUBLISHER(NAME, PHONE, ADDRESS) VALUES ('MCGRAW-HILL', 9989076587, 'BANGALORE');
INSERT INTO PUBLISHER(NAME, PHONE, ADDRESS) VALUES ('PEARSON', 9889076565, 'NEWDELHI');
INSERT INTO PUBLISHER (NAME, PHONE, ADDRESS) VALUES ('RANDOM HOUSE', 7455679345, 'HYDERABAD');
INSERT INTO PUBLISHER (NAME, PHONE, ADDRESS) VALUES ('HACHETTE LIVRE', 8970862340, 'CHENNAI');
INSERT INTO PUBLISHER (NAME, PHONE, ADDRESS) VALUES ('GRUPO PLANETA', 7756120238, 'BANGALORE');

-- Insert data into the BOOK table
INSERT INTO BOOK(BOOK_ID, TITLE,PUB_YEAR,PUBLISHER_NAME) VALUES (1,'DBMS', 'JAN-2017', 'MCGRAW-HILL');
INSERT INTO BOOK (BOOK_ID, TITLE, PUB_YEAR, PUBLISHER_NAME) VALUES (2, 'ADBMS', 'JUN-2016', 'MCGRAW-HILL');
INSERT INTO BOOK (BOOK_ID, TITLE, PUB_YEAR, PUBLISHER_NAME) VALUES (3, 'CN', 'SEP-2016', 'PEARSON');
INSERT INTO BOOK (BOOK_ID, TITLE, PUB_YEAR, PUBLISHER_NAME) VALUES (4, 'CG', 'SEP-2015', 'GRUPO PLANETA');
INSERT INTO BOOK (BOOK_ID, TITLE, PUB_YEAR, PUBLISHER_NAME) VALUES (5, 'OS', 'MAY-2016', 'PEARSON');

-- Insert data into the BOOK_AUTHORS table
INSERT INTO BOOK_AUTHORS(AUTHOR_NAME, BOOK_ID) VALUES ('NAVATHE', 1);
INSERT INTO BOOK_AUTHORS (AUTHOR_NAME, BOOK_ID) VALUES ('NAVATHE', 2);
INSERT INTO BOOK_AUTHORS (AUTHOR_NAME, BOOK_ID) VALUES ('TANENBAUM', 3);
INSERT INTO BOOK_AUTHORS (AUTHOR_NAME, BOOK_ID) VALUES ('EDWARD ANGEL', 4);
INSERT INTO BOOK_AUTHORS (AUTHOR_NAME, BOOK_ID) VALUES ('GALVIN', 5);

-- Insert data into the LIBRARY_BRANCH table
INSERT INTO LIBRARY_BRANCH (BRANCH_ID, BRANCH_NAME, ADDRESS) VALUES (10, 'RR NAGAR', 'BANGALORE');
INSERT INTO LIBRARY_BRANCH (BRANCH_ID, BRANCH_NAME, ADDRESS) VALUES (11, 'RNSIT', 'BANGALORE');
INSERT INTO LIBRARY_BRANCH (BRANCH_ID, BRANCH_NAME, ADDRESS) VALUES (12, 'RAJAJI NAGAR', 'BANGALORE');
INSERT INTO LIBRARY_BRANCH (BRANCH_ID, BRANCH_NAME, ADDRESS) VALUES (13, 'NITTE', 'MANGALORE');
INSERT INTO LIBRARY_BRANCH (BRANCH_ID, BRANCH_NAME, ADDRESS) VALUES (14, 'MANIRAL', 'UDUPI');

-- Insert data into the BOOK_COPIES table
INSERT INTO BOOK_COPIES (NO_OF_COPIES, BOOK_ID, BRANCH_ID) VALUES (100, 1, 10);
INSERT INTO BOOK_COPIES (NO_OF_COPIES, BOOK_ID, BRANCH_ID) VALUES (101, 2, 11);
INSERT INTO BOOK_COPIES (NO_OF_COPIES, BOOK_ID, BRANCH_ID) VALUES (102, 3, 12);
INSERT INTO BOOK_COPIES (NO_OF_COPIES, BOOK_ID, BRANCH_ID) VALUES (103, 4, 13);
INSERT INTO BOOK_COPIES (NO_OF_COPIES, BOOK_ID, BRANCH_ID) VALUES (104, 5, 14);

-- Insert data into the CARD table 
INSERT INTO CARD (CARD_NO) VALUES (101);
INSERT INTO CARD (CARD_NO) VALUES (102);
INSERT INTO CARD (CARD_NO) VALUES (103);
INSERT INTO CARD (CARD_NO) VALUES (104);
INSERT INTO CARD (CARD_NO) VALUES (105);


-- Insert data into the BOOK_LENDING table
INSERT INTO BOOK_LENDING (DATE_OUT, DUE_DATE, BOOK_ID, BRANCH_ID, CARD_NO) VALUES ('01-JAN-17', '01-JUN-17', 1, 10, 101);
INSERT INTO BOOK_LENDING (DATE_OUT, DUE_DATE, BOOK_ID, BRANCH_ID, CARD_NO) VALUES ('11-JAN-17', '11-MAR-17', 3, 14, 102);
INSERT INTO BOOK_LENDING (DATE_OUT, DUE_DATE, BOOK_ID, BRANCH_ID, CARD_NO) VALUES ('21-FEB-17', '21-APR-17', 2, 13, 103);
INSERT INTO BOOK_LENDING (DATE_OUT, DUE_DATE, BOOK_ID, BRANCH_ID, CARD_NO) VALUES ('15-MAR-17', '15-JUL-17', 4, 11, 104);
INSERT INTO BOOK_LENDING (DATE_OUT, DUE_DATE, BOOK_ID, BRANCH_ID, CARD_NO) VALUES ('12-APR-17', '12-MAY-17', 1, 11, 105);

SELECT * FROM PUBLISHER;
SELECT * FROM BOOK;
SELECT * FROM BOOK_AUTHORS;
SELECT * FROM LIBRARY_BRANCH;
SELECT * FROM BOOK_COPIES;

SELECT * FROM CARD;
SELECT * FROM BOOK_LENDING;



